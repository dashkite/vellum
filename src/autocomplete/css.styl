:host
  margin-block-end 1rem

main
  --suggestion-margin 0.5rem
  position relative
  max-inline-size fit-content

// TODO make Posh style use more flexible?
//      temporarily here b/c this isn't a
//      form, per se...
input
  display inline-block
  border-radius 0.5rem
  border 1px solid var(--accent)
  &:invalid
    border 1px solid var(--warning)
    
  background-color var(--background)
  padding 0.75rem 0.75rem 0.5rem
  &:focus
    outline none
    // background var(--form-focus-color)
    border 1px solid var(--accent)

  // hack to override chrome's default autofill
  // which can't otherwise be overriden (wtf)
  // https://issues.chromium.org/issues/40408794#comment77
  &:autofill
    background-color var(--accent)
    box-shadow 0 0 0 1.5rem var(--accent) inset

  font-family var(--monospace-font)

:host([data-state="closed"]) .options
  display none
  
.options
  display flex
  flex-flow column
  gap 0.5rem
  margin 0
  margin-block-start 0.25rem
  padding 0.5rem
  position absolute
  border-radius 0.5rem
  border 1px solid var(--accent)
  background var(--background)
  width 100%
  // TODO is there some way to determine “block height” of a child?
  //      this is basically:
  //        ( 5 * block-height ) + 
  //          margins-and-padding of self
  max-height 16rem
  overflow scroll

  &::after
    content ""
    height 1rem

  
slot[name='option']::slotted(*)
  list-style none
  margin unset
  padding unset
  margin-block-start var(--suggestion-margin)

slot[name='option']::slotted(.selected)
    color var(--background)
    background var(--highlight)
    border 1px solid var(--highlight)

// input + i
//   margin-inline-start 1rem
//   padding 0.5rem
//   border 1px solid var(--highlight)
//   border-radius 0.5rem
//   font-size var(--largest-copy-font-size)